"use strict";function init(){var e=require("../../lib/react.js"),t=require("../../cssStr/cssStr.js"),a=(require("../../actions/projectActions.js"),require("../../stores/projectStores.js")),i=e.createClass({displayName:"DetailConfig",getInitialState:function(){var e=a.getProjectConfig(this.props.project);return{requestDomains:e.Network.RequestDomain,socketDomains:e.Network.WsRequestDomain,uploadDomains:e.Network.UploadDomain,downloadDomains:e.Network.DownloadDomain,loading:!1}},componentDidMount:function(){a.on("PROJECT_CONFIG_REFRESHED",this._onConfigRefreshed)},componentWillUnmount:function(){a.removeListener("PROJECT_CONFIG_REFRESHED",this._onConfigRefreshed)},refreshConfig:function(){this.setState({loading:!0}),a.setProjectConfig(this.props.project,function(){})},_onConfigRefreshed:function(){var e=a.getProjectConfig(this.props.project);this.setState({requestDomains:e.Network.RequestDomain,socketDomains:e.Network.WsRequestDomain,uploadDomains:e.Network.UploadDomain,downloadDomains:e.Network.DownloadDomain,loading:!1})},shouldComponentUpdate:function(e,t){return e.project!==this.props.project||e.show!==this.props.show||t!==this.state},render:function(){var a="detail-meta-upload "+(this.state.loading?"detail-upload-dialog-button-primary-loading":"");return e.createElement("div",{style:this.props.show?{}:t.displayNone},e.createElement("div",{className:"detail-meta-tab-bd"},e.createElement("div",{className:"detail-meta-wrapper"},e.createElement("div",{className:"detail-meta"},e.createElement("p",{className:"detail-meta-label detail-meta-label-fixed-width"},"request合法域名"),e.createElement("div",{className:"detail-meta-value"},this.state.requestDomains.map(function(t){return e.createElement("p",null,t)}))),e.createElement("div",{className:"detail-meta"},e.createElement("p",{className:"detail-meta-label detail-meta-label-fixed-width"},"socket合法域名"),e.createElement("div",{className:"detail-meta-value"},this.state.socketDomains.map(function(t){return e.createElement("p",null,t)}))),e.createElement("div",{className:"detail-meta"},e.createElement("p",{className:"detail-meta-label detail-meta-label-fixed-width"},"uploadFile合法域名"),e.createElement("div",{className:"detail-meta-value"},this.state.uploadDomains.map(function(t){return e.createElement("p",null,t)}))),e.createElement("div",{className:"detail-meta"},e.createElement("p",{className:"detail-meta-label detail-meta-label-fixed-width"},"downloadFile合法域名"),e.createElement("div",{className:"detail-meta-value"},this.state.downloadDomains.map(function(t){return e.createElement("p",null,t)}))))),e.createElement("div",{className:"detail-opr-wrapper"},e.createElement("a",{href:"javascript:;",className:a,onClick:this.refreshConfig},"刷新")))}});_exports=i}var _exports;init(),module.exports=_exports;