"use strict";function init(){function e(n,a,c){var s=n.files,u=n.reg,l=n.project;if(0===s.length)return void c(null,a);var p=s.shift(),f=1,d=i.extname(p);o[d]?!function(){var o=i.relative(l.projectpath,p),s=o.replace(/\\/g,"/"),d=t.createReadStream(p,{encoding:"utf8"}),v=r.createInterface({input:d});v.on("line",function(e){var r=e.match(u);r&&(a[s]||(a[s]=[]),a[s].push({line:f,data:e})),f++}),v.on("close",function(){e(n,a,c)})}():e(n,a,c)}var r=require("readline"),t=require("fs"),n=require("glob"),i=require("path"),o={".js":!0,".json":!0,".wxml":!0,".wxss":!0,".html":!0,".css":!0,".md":!0,".txt":!0};_exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=r.cwd,o=r.wholeword,a=r.i,c=r.str,s=r.project,u={};n(i+"/**/*",{nodir:!0},function(r,n){if(r)return void t(r);var i=c.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");o&&(i="\\b"+i+"\\b"),i=a?new RegExp(i,"i"):new RegExp(i),e({files:n,reg:i,project:s},u,t)})}}var _exports;init(),module.exports=_exports;